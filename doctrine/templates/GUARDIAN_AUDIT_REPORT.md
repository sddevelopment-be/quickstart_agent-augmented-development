# Framework Audit Report

**Generated by:** Framework Guardian  
**Audit Date:** `YYYY-MM-DD HH:MM:SS UTC`  
**Guardian Version:** `X.Y.Z`

---

## Metadata

| Property                | Value                          |
|-------------------------|--------------------------------|
| **Repository**          | `<repository-name>`            |
| **Framework Version**   | `<version>` (from `.framework_meta.yml`) |
| **Manifest Version**    | `<version>` (from `META/MANIFEST.yml`)   |
| **Installed At**        | `<timestamp>`                  |
| **Source Release**      | `<release-package-name>.zip`   |
| **Audit Mode**          | `full` / `incremental`         |

---

## Executive Summary

This audit compares the current repository state against the canonical framework manifest (`META/MANIFEST.yml`). It identifies divergences, missing files, and potential orphaned or custom additions.

**Status:** ✅ Healthy / ⚠️ Drift Detected / ❗️ Critical Issues

### Summary Statistics

| Metric                        | Count | Percentage |
|-------------------------------|-------|------------|
| **Total Files in Manifest**   | `X`   | 100%       |
| **UNCHANGED** (exact match)   | `X`   | `X%`       |
| **DIVERGED** (checksum diff)  | `X`   | `X%`       |
| **MISSING** (not found)       | `X`   | `X%`       |
| **CUSTOM** (not in manifest)  | `X`   | N/A        |

---

## File Status Table

| Path                                      | Status      | Checksum Match | Notes                                   |
|-------------------------------------------|-------------|----------------|-----------------------------------------|
| `.github/agents/AGENTS.md`                | UNCHANGED   | ✅ Yes         | Framework core - aligned                |
| `directives/001_*.md`      | DIVERGED    | ❌ No          | Local modifications detected            |
| `templates/architecture/ADR.md`      | MISSING     | N/A            | Expected file not found                 |
| `local/agents/custom-agent.agent.md`      | CUSTOM      | N/A            | Not in manifest - local addition        |

*(Continue for all files...)*

---

## Critical Findings

### ❗️ Critical Issues

- **Missing Core Files:**
  - `AGENTS.md` — Framework initialization protocol missing. Cannot operate safely.
  - `directives/006_version_governance.md` — Version governance missing.

- **Corrupted Files:**
  - `directives/012_operating_procedures.md` — Checksum mismatch, file may be corrupted or tampered.

### ⚠️ Warnings

- **Version Mismatch:**
  - `.framework_meta.yml` indicates version `1.2.0`, but `META/MANIFEST.yml` declares `1.3.0`.
  - **Recommendation:** Verify which version is authoritative. Re-run `framework_install.sh` if needed.

- **Diverged Core Files:**
  - X files have local modifications that may conflict with future upgrades.
  - **Recommendation:** Review diverged files and consider relocating customizations to `local/`.

---

## Diverged Files Analysis

### Framework Core Files with Local Modifications

| File                                     | Divergence Type          | Risk Level | Recommendation                          |
|------------------------------------------|--------------------------|------------|-----------------------------------------|
| `agents/architect.agent.md`      | Customized directives    | Medium     | Move custom directives to `local/`      |
| `templates/prompts/task.md`         | Added local fields       | Low        | Safe to keep, document in project notes |
| `.github/agents/guidelines/general.md`   | Tone adjustments         | High       | ❗️ Core governance modified—restore or isolate |

### Recommendation Summary

- **High Risk:** Restore core governance files or explicitly document overrides.
- **Medium Risk:** Relocate customizations to `local/` directories.
- **Low Risk:** Document modifications in project-specific guidelines.

---

## Custom Files (Not in Manifest)

Files found in framework directories but not listed in `META/MANIFEST.yml`:

| Path                                     | Size   | Modified Date | Potential Type              |
|------------------------------------------|--------|---------------|-----------------------------|
| `local/agents/custom-agent.agent.md`     | 8 KB   | 2025-11-28    | Local agent extension       |
| `.github/agents/drafts/experiment.md`    | 2 KB   | 2025-11-20    | Temporary/experimental file |
| `templates/custom-template.md`      | 4 KB   | 2025-11-15    | Local template addition     |

### Orphan Detection

- **Potential Orphans:** Files that may have been part of older framework versions but removed from current manifest.
- **Recommendation:** Review orphan files for relevance. Archive or delete if no longer needed.

---

## Compliance Assessment

### Framework Integrity Score

- **Score:** `X / 100` (based on UNCHANGED files percentage and absence of critical issues)
- **Grade:** `A` (Excellent) / `B` (Good) / `C` (Acceptable) / `D` (Needs Attention) / `F` (Critical)

### Governance Layer Validation

| Layer                       | Status   | Notes                                  |
|-----------------------------|----------|----------------------------------------|
| Bootstrap Protocol          | ✅ Valid | Aligned with framework version `X.Y.Z` |
| General Guidelines          | ⚠️ Drift | Local modifications detected           |
| Operational Guidelines      | ✅ Valid | No divergence                          |
| Directives (required)       | ❗️ Issue| Directive 006 missing                  |
| Agent Profiles              | ⚠️ Drift | 3 agents customized                    |
| Templates                   | ✅ Valid | All core templates present             |

---

## Recommendations

### Immediate Actions

1. **Restore Missing Critical Files:**
   - Re-run `framework_install.sh` or manually restore from release package.
   - Priority: AGENTS.md, directives 006, 007, 012.

2. **Resolve Corrupted Files:**
   - Verify checksums against manifest.
   - Restore from backup or re-install if corruption confirmed.

3. **Clarify Version Discrepancy:**
   - Ensure `.framework_meta.yml` and manifest versions align.
   - Update metadata if manual intervention occurred.

### Short-Term Actions

1. **Review Diverged Core Files:**
   - Assess each diverged file for intentional vs unintentional changes.
   - Document reasons for local modifications in project notes.

2. **Relocate Local Customizations:**
   - Move custom agent profiles to `local/agents/`.
   - Move custom directives to `local/directives/`.
   - Update references in agent profiles to point to local versions.

3. **Clean Up Orphan Files:**
   - Archive or delete files not in manifest and no longer relevant.
   - Document retained custom files in project README or guidelines.

### Long-Term Actions

1. **Establish Custom Override Process:**
   - Define project-specific guidelines for maintaining local customizations.
   - Document override locations and rationale.

2. **Schedule Regular Audits:**
   - Run Framework Guardian audits after each framework upgrade.
   - Include audit reports in iteration summaries.

3. **Monitor Framework Updates:**
   - Subscribe to framework release notifications.
   - Review upgrade notes before applying new versions.

---

## Next Steps

- [ ] Address all ❗️ critical issues before proceeding.
- [ ] Review ⚠️ warnings and plan resolution.
- [ ] If upgrading, proceed to generate `FRAMEWORK_UPGRADE_PLAN.md`.
- [ ] Document audit findings in project log.
- [ ] Update `${WORKSPACE_ROOT}/collaboration/AGENT_STATUS.md` with Guardian completion.

---

## Appendix: Audit Procedure Details

### Checksum Verification Method

- **Algorithm:** SHA256
- **Tools:** `sha256sum` (Linux/macOS) or equivalent
- **Process:** For each file in manifest, calculate checksum and compare to manifest value.

### File Classification Rules

- **UNCHANGED:** Checksum matches manifest exactly.
- **DIVERGED:** File exists but checksum differs.
- **MISSING:** File listed in manifest but not found in repository.
- **CUSTOM:** File found in framework directories but not listed in manifest.

### Audit Limitations

- Guardian cannot distinguish intentional from unintentional modifications—all divergences reported.
- Custom files outside framework directories (e.g., `src/`, `lib/`) are not scanned.
- Audit is point-in-time; changes after audit generation not reflected.

---

**For questions or issues with this audit, consult:**

- DDR-002 (Framework Guardian): Framework Guardian Agent
- `${DOC_ROOT}/architecture/design/distribution_of_releases_architecture.md`
- `${DOC_ROOT}/architecture/design/distribution_of_releases_technical_design.md`
- Directive 025: Framework Guardian procedures
