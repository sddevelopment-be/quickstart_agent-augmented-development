@startuml
' C4 Container Diagram for the Agent-Augmented Development Framework

!include <C4/C4_Container>
!include <C4/C4_Component>

LAYOUT_WITH_LEGEND()

Person(frameworkMaintainer, "Framework Maintainer", "Agentic Framework Core Team member")
Person(automationAgent, "Specialized Automation Agent", "Executes YAML tasks via the async orchestration design")
Person(downstreamTeam, "Downstream Product Team", "Adopts the template to bootstrap their workflows")
Person(platformOperator, "Platform Operator", "Runs CI/validation pipelines and manages router catalogs")

System_Boundary(frameworkBoundary, "Quickstart Agent-Augmented Framework") {
    Container(repoCore, "Governance & Docs", "Markdown / YAML", "AGENTS.md, directives, ADRs, templates, planning guides.") #Layer1
    Container(taskWorkspace, "Async Task Workspace", "Git-tracked filesystem", "work/inbox, work/assigned/<agent>, work/done, collaboration logs as per async_orchestration_technical_design.md.") #Layer1
    Container(appPkg, "framework Python Package", "Python", "framework.interface/core/execution modules exposing Layer 0â€“3 APIs.") #Layer0-3
    Container(opsTooling, "Ops & Validation Scripts", "Python / Bash / GitHub Actions", "ops/scripts/*, validation/*.py, template-status checker enforcing invariants.") #Layer1
    ContainerDb(routerConfig, "Model Router Config", "YAML", "ops/config/model_router.yaml + supporting manifests for routing policies.") #Layer2
}

System_Ext(llmRouters, "LLM Routers", "OpenRouter + OpenCode.ai")
System_Ext(vendorApis, "Direct Vendor APIs", "OpenAI, Anthropic, DeepSeek, Codestral, etc.")
System_Ext(localWorkers, "Local Worker Nodes", "Ollama hosts used for offline/private jobs")

Rel(frameworkMaintainer, repoCore, "Maintains governance + ADRs", "Docs / Git")
Rel(frameworkMaintainer, opsTooling, "Runs validation + planning scripts", "CLI")
Rel(automationAgent, taskWorkspace, "Consumes and updates task YAML", "File operations")
Rel(automationAgent, appPkg, "Uses FrameworkClient / CLI wrappers", "Python API")
Rel(downstreamTeam, repoCore, "Clones + aligns with governance", "Git")
Rel(platformOperator, opsTooling, "Executes CI + validation workflows", "GitHub Actions / CLI")
Rel(appPkg, taskWorkspace, "Reads tasks, records lifecycle transitions", "YAML parsing")
Rel(appPkg, routerConfig, "Loads model catalog + fallback rules", "YAML load")
Rel(appPkg, llmRouters, "Routes prompts/tool calls", "HTTP")
Rel(appPkg, vendorApis, "Direct API calls when bypassing routers", "HTTP")
Rel(appPkg, localWorkers, "Invokes run-local-worker for offline tasks", "CLI / HTTP")
Rel(platformOperator, routerConfig, "Maintains pricing ceilings + fallback tuning", "YAML edits + validators")
Rel(taskWorkspace, opsTooling, "Validated and orchestrated via scripts & GH Actions", "Python / Bash")
Rel(repoCore, taskWorkspace, "Defines schemas + templates used by agents", "Design artifacts")

SHOW_LEGEND()
@enduml
