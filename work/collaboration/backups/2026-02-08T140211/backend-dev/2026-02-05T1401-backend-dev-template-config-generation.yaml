---
id: 2026-02-05T1401-backend-dev-template-config-generation
title: "Template-Based Configuration Generation"
agent: backend-dev
priority: LOW
status: pending
estimated_hours: 4-6
created_at: "2026-02-05T14:01:00Z"
milestone: M4
batch: 4.1
dependencies:
  - 2026-02-05T1400-backend-dev-rich-terminal-ui

description: |
  Implement template-based configuration generation system to reduce onboarding 
  friction from 30 minutes to 2 minutes through automated setup.

acceptance_criteria:
  - All 4 templates validate successfully (quick-start, claude-only, cost-optimized, development)
  - config init generates working configuration in <30 seconds
  - Environment scanning detects API keys and tool binaries
  - Tool add/remove commands work atomically (rollback on error)
  - Generated config passes schema validation
  - Unit tests for template substitution and tool management
  - Integration tests for full init workflow
  - Test coverage >80% maintained

deliverables:
  - Template system with 4 predefined templates
  - CLI commands (config init, config templates, config show)
  - Tool management commands (tool add, tool remove, tool list)
  - Environment scanning (API keys, binaries, platform detection)
  - Validation with helpful next-steps messages
  - Unit and integration tests

references:
  - "docs/architecture/adrs/ADR-031-template-based-config-generation.md"
  - "docs/architecture/design/comparative_study/2026-02-05-spec-kitty-comparative-analysis.md"

technical_notes: |
  - Use Jinja2 for template substitution
  - Scan PATH for tool binaries (claude-code, openai, etc.)
  - Detect env vars (ANTHROPIC_API_KEY, OPENAI_API_KEY, etc.)
  - Platform detection via platform.system()
  - Atomic operations with rollback on error
  - Variable syntax: ${VAR} with expansion

templates_to_create:
  - quick-start.yaml.j2: Minimal config with detected tools
  - claude-only.yaml.j2: Claude-specific optimized config
  - cost-optimized.yaml.j2: Budget controls enabled
  - development.yaml.j2: All features, debug logging

context: |
  This task implements ADR-031 based on spec-kitty's template patterns.
  Dramatically reduces onboarding friction - a key user pain point.
  Depends on rich terminal UI for friendly output messages.
