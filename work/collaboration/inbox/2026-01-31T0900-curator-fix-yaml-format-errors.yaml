id: 2026-01-31T0900-curator-fix-yaml-format-errors
agent: curator
status: new
priority: high
title: Fix YAML format errors in 6 task files to unblock orchestrator

description: |
  Six task files in the assigned/ directories contain invalid YAML format due to 
  multiple document separators (---). This causes orchestrator errors and blocks
  health monitoring. Convert these files to proper YAML-only format.
  
  These tasks are part of high-value initiatives (ADR-023, MFD) and must be fixed
  before they can be executed.

artefacts:
  - work/collaboration/assigned/backend-dev/2026-01-30T1642-adr023-phase2-prompt-validator.yaml
  - work/collaboration/assigned/backend-dev/2026-01-30T1643-adr023-phase3-context-loader.yaml
  - work/collaboration/assigned/build-automation/2026-01-30T1644-adr023-phase2-ci-workflow.yaml
  - work/collaboration/assigned/build-automation/2026-01-29T0935-mfd-task-0.1-workflow-review.yaml
  - work/collaboration/assigned/architect/2026-01-30T1120-design-prompt-optimization-framework.yaml
  - work/collaboration/assigned/architect/2026-01-29T0730-mfd-task-1.3-schema-conventions.yaml
  - work/reports/2026-01-31-yaml-format-fixes.md (summary report)

context:
  repo: sddevelopment-be/quickstart_agent-augmented-development
  branch: main
  issue: 6 task files have YAML frontmatter + Markdown content with multiple --- separators
  impact: Orchestrator cannot parse files, blocks health monitoring
  strategic_value: Unblocks ADR-023 initiative ($140-300k annual ROI)
  
  notes:
    - Problem identified by Planning Petra in status assessment
    - See work/reports/2026-01-31-planning-petra-status-assessment.md for details
    - WORKFLOW_LOG.md shows parsing errors for these 6 files
    - All 6 tasks are part of high-priority initiatives
    
  error_pattern: |
    expected a single document in the stream
      in "file.yaml", line 2, column 1
    but found another document
      in "file.yaml", line X, column 1

requirements:
  format_standard:
    - Convert to pure YAML format (no Markdown sections)
    - Use description field for multi-line text (supports Markdown)
    - Use requirements/deliverables/notes fields for structured content
    - Preserve all information from original files
    - Maintain required fields: id, agent, status, title, artefacts
    
  validation:
    - Test each file with: python validation/validate-task-schema.py <file>
    - Ensure orchestrator can parse all 6 files
    - Verify no information loss from original format
    - Confirm file remains in correct assigned/<agent>/ directory
  
  example_conversion:
    before: |
      ---
      status: assigned
      agent: backend-dev
      priority: high
      ---
      
      # Task: Implement Phase 2
      
      ## Objective
      Create validator module...
    
    after: |
      id: 2026-01-30T1642-adr023-phase2-prompt-validator
      agent: backend-dev
      status: assigned
      priority: high
      title: Implement ADR-023 Phase 2 - Prompt Validator
      
      description: |
        Create validator module with the following objectives:
        
        ## Objective
        Create validator module that:
        - Implements JSON Schema validation
        - Detects anti-patterns
        - Calculates quality scores
        
        ## Context
        Phase 1 created 5 templates. Phase 2 adds validation...
      
      deliverables:
        - file: validation/schemas/prompt-schema.json
          type: JSON Schema
          validation: Validates against draft-07
        - file: ops/validation/prompt-validator.js
          type: code
          validation: Exports PromptValidator class
      
      requirements:
        schema:
          - Cover all 12 patterns from ADR-023
          - Validate required sections
        validator:
          - Detect 90%+ of known anti-patterns
          - Quality score calculation
      
      context_files:
        - docs/architecture/adrs/ADR-023-prompt-optimization-framework.md
        - ops/exporters/validator.js
      
      created_at: '2026-01-30T16:42:00Z'
      assigned_by: github-copilot
      
  preservation_checklist:
    - Preserve all metadata (dates, agent, priority)
    - Preserve all deliverable specifications
    - Preserve all context and notes
    - Preserve success criteria and requirements
    - Preserve dependencies and constraints
    - Preserve estimated effort if present

success_criteria:
  - All 6 files converted to valid YAML format
  - All files pass schema validation
  - Orchestrator can parse all files without errors
  - No information loss from original files
  - Summary report documents changes made
  - Commit message clearly explains fix

dependencies:
  - work/reports/2026-01-31-planning-petra-status-assessment.md (context)
  - work/collaboration/WORKFLOW_LOG.md (shows original errors)

estimated_effort: 2-3 hours

validation_commands:
  - python validation/validate-task-schema.py work/collaboration/assigned/backend-dev/2026-01-30T1642-adr023-phase2-prompt-validator.yaml
  - python validation/validate-task-schema.py work/collaboration/assigned/backend-dev/2026-01-30T1643-adr023-phase3-context-loader.yaml
  - python validation/validate-task-schema.py work/collaboration/assigned/build-automation/2026-01-30T1644-adr023-phase2-ci-workflow.yaml
  - python validation/validate-task-schema.py work/collaboration/assigned/build-automation/2026-01-29T0935-mfd-task-0.1-workflow-review.yaml
  - python validation/validate-task-schema.py work/collaboration/assigned/architect/2026-01-30T1120-design-prompt-optimization-framework.yaml
  - python validation/validate-task-schema.py work/collaboration/assigned/architect/2026-01-29T0730-mfd-task-1.3-schema-conventions.yaml

created_at: '2026-01-31T09:00:00Z'
created_by: planning-petra
reason: unblock-high-value-initiatives
