id: 2025-12-05T1012-build-automation-install-upgrade-scripts
agent: build-automation
status: new
priority: high
mode: /programming
title: Deliver framework install + upgrade scripts with conflict handling

description: |
  Build `framework_install.sh` and `framework_upgrade.sh` so downstream teams can
  bootstrap or roll forward the packaged release without overwriting local
  customizations. The scripts must honor the conflict-handling matrix from the
  distribution technical design and emit logs that Manager Mike can capture
  during each orchestration iteration run (`.github/ISSUE_TEMPLATE/run-iteration.md`).

artefacts:
  - ops/release/framework_install.sh
  - ops/release/framework_upgrade.sh
  - docs/HOW_TO_USE/framework_install.md
  - validation/tests/framework_install_upgrade_tests.py

context:
  repo: sddevelopment-be/quickstart_agent-augmented-development
  branch: main
  related_pr: ''
  notes:
    - Scripts must detect in-progress work directories and prompt for safe merge paths.
    - Support dry-run + plan modes consumed by Framework Guardian automation.
    - Any config migration logic should be encapsulated for reuse by Guardian tasks.
    - Document orchestration hooks so run-iteration cycles can invoke scripts deterministically.

requirements:
  - Implement install script for clean environments with verification + rollback steps.
  - Implement upgrade script that preserves local `.github/agents/*` and `work/` data.
  - Provide conflict detection (checksum + timestamp) and structured prompts/logging.
  - Expose CLI flags referenced by ADR-013/ADR-014 for Guardian automation.
  - Update HOW_TO_USE doc with exact invocation instructions and expected outputs.

testing_requirements:
  - Add acceptance tests to simulate clean install, upgrade with local overrides, and rollback.
  - Provide unit tests for helper libraries (state detection, config merge).
  - Ensure scripts run under CI smoke job (reuse packaging workflow if possible).
  - Capture work log referencing Directive 014 once tests pass.

dependencies:
  - 2025-12-05T1010-build-automation-release-packaging-pipeline
  - docs/architecture/design/distribution_of_releases_technical_design.md

created_at: '2025-12-05T10:12:00Z'
created_by: planning-petra
origin_comment_id: null
