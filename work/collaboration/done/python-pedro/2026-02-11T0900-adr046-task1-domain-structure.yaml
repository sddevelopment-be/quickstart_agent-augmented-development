---
# Task Descriptor: ADR-046 Task 1 - Create Domain Directory Structure
id: "2026-02-11T0900-adr046-task1-domain-structure"
title: "ADR-046 Task 1: Create Domain Directory Structure"
assignee: python-pedro
batch: "M5.1"
priority: CRITICAL
status: assigned
created: "2026-02-11T09:00:00Z"
specification: "docs/architecture/adrs/ADR-046-domain-module-refactoring.md"
related_decisions:
  - "docs/architecture/adrs/ADR-046-domain-module-refactoring.md"
  - "docs/architecture/adrs/ADR-045-doctrine-concept-domain-model.md"
dependencies:
  - type: prerequisite
    description: "None - can start immediately"
blocks:
  - "2026-02-11T0900-adr046-task2-move-files"
estimated_hours: 1-2
tags:
  - adr-046
  - domain-refactoring
  - conceptual-alignment
  - language-first-architecture
---

# Task: Create Domain Directory Structure

## Context

**Initiative:** M5 Batch 5.1 - Conceptual Alignment Foundation  
**ADR:** ADR-046 (Domain Module Refactoring)  
**Strategic Goal:** Refactor `src/common/` → `src/domain/` with bounded context modules

**Why This Matters:**
- Establishes bounded context structure for domain-driven design
- Reduces conceptual drift (task polysemy across 3 contexts)
- Blocks ADR-045 implementation (domain model needs this structure)
- Foundation for language-first architecture approach

## Objective

Create `src/domain/` directory structure with bounded context modules (collaboration, doctrine, specifications, common) while preserving existing `src/common/` for migration safety.

## Acceptance Criteria

**MUST:**
- [ ] Create `src/domain/` directory
- [ ] Create `src/domain/collaboration/` (agent orchestration, task management)
- [ ] Create `src/domain/doctrine/` (directive, approach, tactic, agent profile)
- [ ] Create `src/domain/specifications/` (spec, feature, initiative, portfolio)
- [ ] Create `src/domain/common/` (truly shared utilities only)
- [ ] Create `__init__.py` in each subdirectory
- [ ] Preserve existing `src/common/` (do not delete yet)
- [ ] Commit structure only (no file moves yet)

**SHOULD:**
- [ ] Add docstrings to each `__init__.py` explaining bounded context purpose
- [ ] Create README.md in `src/domain/` explaining structure
- [ ] Document bounded context definitions

**MUST NOT:**
- [ ] Move any existing files (Task 2 handles this)
- [ ] Update any imports (Task 3 handles this)
- [ ] Delete `src/common/` (Task 4 handles this after validation)

## Deliverables

1. **Directory Structure:**
   ```
   src/domain/
   ├── __init__.py
   ├── README.md
   ├── collaboration/
   │   └── __init__.py
   ├── doctrine/
   │   └── __init__.py
   ├── specifications/
   │   └── __init__.py
   └── common/
       └── __init__.py
   ```

2. **`src/domain/README.md`:** Explanation of bounded contexts
3. **`src/domain/__init__.py`:** Package initialization with docstring
4. **Git Commit:** Structure creation (no file moves)

## Test Plan

**Verification Steps:**
1. Run `tree src/domain/` and verify structure matches spec
2. Import each `__init__.py` in Python REPL (no errors)
3. Verify `src/common/` still exists and unchanged
4. Commit compiles and tests pass (no breaking changes yet)

**Test Commands:**
```bash
# Verify structure
tree src/domain/

# Test imports
python3 -c "import src.domain.collaboration"
python3 -c "import src.domain.doctrine"
python3 -c "import src.domain.specifications"
python3 -c "import src.domain.common"

# Verify existing code unchanged
pytest tests/ -k "not integration"  # Should still pass
```

## Implementation Notes

### Bounded Context Definitions (from ADR-046)

**collaboration:**
- **Purpose:** Agent orchestration, task management, batch execution, iteration coordination
- **Concepts:** Task, TaskDescriptor, TaskStatus, AgentIdentity, Batch, Iteration, Orchestrator
- **Current Files (to be moved in Task 2):** `task_schema.py`, parts of `types.py`

**doctrine:**
- **Purpose:** Doctrine artifact representations (directives, approaches, tactics, agent profiles)
- **Concepts:** Directive, Approach, Tactic, AgentProfile, StyleGuide, Template
- **Current Files (to be moved in Task 2):** `agent_loader.py`, parts of `types.py`

**specifications:**
- **Purpose:** Feature specifications, initiatives, portfolio management, progress tracking
- **Concepts:** Specification, Feature, Initiative, Epic, Portfolio
- **Current Files (to be moved in Task 2):** None yet (future dashboard work)

**common:**
- **Purpose:** Generic utilities with NO domain semantics (validation, parsing, filesystem utilities)
- **Concepts:** Generic validators, parsers, utility functions
- **Current Files (to be moved in Task 2):** Generic utilities only

### `src/domain/README.md` Template

```markdown
# Domain Module: Bounded Context Structure

This directory contains domain models organized by bounded contexts per Domain-Driven Design (DDD) principles.

## Bounded Contexts

### collaboration/
Agent orchestration, task management, batch execution.
- **Domain:** Multi-agent coordination
- **Key Concepts:** Task, Agent, Batch, Iteration

### doctrine/
Doctrine artifact representations (directives, approaches, tactics).
- **Domain:** Framework governance
- **Key Concepts:** Directive, Approach, Tactic, AgentProfile

### specifications/
Feature specifications, initiatives, portfolio management.
- **Domain:** Product planning
- **Key Concepts:** Specification, Feature, Initiative, Portfolio

### common/
Truly shared utilities with NO domain semantics.
- **Domain:** None (generic utilities)
- **Key Concepts:** Validators, Parsers, File utilities

## Related ADRs

- ADR-046: Domain Module Refactoring (src/common → src/domain)
- ADR-045: Doctrine Concept Domain Model
- ADR-042: Shared Task Domain Model

## Migration Status

- [x] Directory structure created (Task 1)
- [ ] Files moved to bounded contexts (Task 2)
- [ ] Imports updated (Task 3)
- [ ] Tests passing, old `src/common/` removed (Task 4)
```

## Risk Assessment

**RISK:** Low (structure creation only, no code changes)

**Mitigation:**
- Preserve existing `src/common/` (no deletions)
- Structure-only commit (easy to revert)
- No import changes (no breaking changes)

## Definition of Done

- [x] Directory structure matches ADR-046 spec
- [x] All `__init__.py` files created with docstrings
- [x] `src/domain/README.md` explains bounded contexts
- [x] Existing `src/common/` unchanged
- [x] Tests pass (no breaking changes)
- [x] Committed to feature branch
- [x] Task 2 unblocked (can proceed with file moves)

## References

- **ADR:** `docs/architecture/adrs/ADR-046-domain-module-refactoring.md`
- **Related:** `docs/architecture/adrs/ADR-045-doctrine-concept-domain-model.md`
- **Spec:** `specifications/initiatives/terminology-alignment-refactoring.md` (SPEC-TERM-001)
- **Planning:** `docs/planning/NEXT_BATCH.md` (M5.1)

---

**Estimated Effort:** 1-2 hours  
**Agent:** Backend Dev  
**Batch:** M5 Batch 5.1 - Conceptual Alignment Foundation  
**Priority:** ⭐⭐⭐⭐⭐ CRITICAL (blocks all subsequent M5.1 tasks)
